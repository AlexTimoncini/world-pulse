<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="./manifest.json"/>
    <link rel="apple-touch-icon" sizes="32x32" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="58x58" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="64x64" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="80x80" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="87x87" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="128x128" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="167x167" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="256x256" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="512x512" href="./logos/logo.png">
    <link rel="apple-touch-icon" sizes="1024x1024" href="./logos/logo.png">
    <link rel="icon" type="image/png" sizes="48x48" href="./logos/logo.png">
    <link rel="icon" type="image/png" sizes="72x72" href="./logos/logo.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./logos/logo.png">
    <link rel="icon" type="image/png" sizes="144x144" href="./logos/logo.png">
    <link rel="icon" type="image/png" sizes="192x192" href="./logos/logo.png">
    <link rel="icon" type="image/png" sizes="512x512" href="./logos/logo.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./logos/logo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./logos/logo.png">
    <link rel="stylesheet" href="/style.css">
    <title>News - WorldPulse</title>
</head>
<body>
    <header>
        <div class="logo">
            <h1><a href="javascript:void(0)" onclick="navigateTo('/')">WorldPulse</a></h1>
        </div>
        <nav>
            <ul>
                <li><a href="javascript:void(0)" onclick="navigateTo('/')">Home</a></li>
                <li><a href="javascript:void(0)" onclick="navigateTo('/articles.html')">News</a></li>
                <li><a href="javascript:void(0)" onclick="navigateTo('/trends.html')">Trends</a></li>
                <li><a href="javascript:void(0)" onclick="navigateTo('/about-us.html')">About us</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section class="article-list">
            <h2>News</h2>
            <section class="articles">
                <div class="article" id="article_1">
                    <img src="{{image_1}}" alt="{{title_1}}">
                    <h3>{{title_1}}</h3>
                    <p>{{descr_1}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link1">Read the article</a>
                </div>
                <div class="article" id="article_2">
                    <img src="{{image_2}}" alt="{{title_2}}">
                    <h3>{{title_2}}</h3>
                    <p>{{descr_2}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link2">Read the article</a>
                </div>
                <div class="article" id="article_3">
                    <img src="{{image_3}}" alt="{{title_3}}">
                    <h3>{{title_3}}</h3>
                    <p>{{descr_3}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link3">Read the article</a>
                </div>
                <div class="article" id="article_4">
                    <img src="{{image_4}}" alt="{{title_4}}">
                    <h3>{{title_4}}</h3>
                    <p>{{descr_4}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link4">Read the article</a>
                </div>
                <div class="article" id="article_5">
                    <img src="{{image_5}}" alt="{{title_5}}">
                    <h3>{{title_5}}</h3>
                    <p>{{descr_5}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link5">Read the article</a>
                </div>
                <div class="article" id="article_6">
                    <img src="{{image_6}}" alt="{{title_6}}">
                    <h3>{{title_6}}</h3>
                    <p>{{descr_6}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link6">Read the article</a>
                </div>
                <div class="article" id="article_7">
                    <img src="{{image_7}}" alt="{{title_7}}">
                    <h3>{{title_7}}</h3>
                    <p>{{descr_7}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link7">Read the article</a>
                </div>
                <div class="article" id="article_8">
                    <img src="{{image_8}}" alt="{{title_8}}">
                    <h3>{{title_8}}</h3>
                    <p>{{descr_8}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link8">Read the article</a>
                </div>
                <div class="article" id="article_9">
                    <img src="{{image_9}}" alt="{{title_9}}">
                    <h3>{{title_9}}</h3>
                    <p>{{descr_9}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link9">Read the article</a>
                </div>
                <div class="article" id="article_10">
                    <img src="{{image_10}}" alt="{{title_10}}">
                    <h3>{{title_10}}</h3>
                    <p>{{descr_10}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link10">Read the article</a>
                </div>
                <div class="article" id="article_11">
                    <img src="{{image_11}}" alt="{{title_11}}">
                    <h3>{{title_11}}</h3>
                    <p>{{descr_11}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link11">Read the article</a>
                </div>
                <div class="article" id="article_12">
                    <img src="{{image_12}}" alt="{{title_12}}">
                    <h3>{{title_12}}</h3>
                    <p>{{descr_12}}</p>
                    <a href="https://luglawhaulsano.net/4/8605683" target="_blank" id="link12">Read the article</a>
                </div>
            </section>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 WorldPulse.it - All rights reserved.</p>
    </footer>
<script src="./script.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", async function(){
        let articles = await getArticles()
        articles.forEach((a,index) => {
            let i = index+1
            let article = document.getElementById("article_"+i)
            let artHTML = article.innerHTML
            artHTML = artHTML.replaceAll("{{title_"+i+"}}", a.title)
            artHTML = artHTML.replace("{{descr_"+i+"}}", a.description)
            artHTML = artHTML.replace("{{image_"+i+"}}", "/images/"+a.image)
            article.innerHTML = artHTML
            document.getElementById("link"+i).addEventListener("click", ()=>{
                navigateTo(a.url)
            })
        })
        async function getArticles() {
            try {
                const response = await fetch('/articles/articles.json');
                if (!response.ok) {
                    throw new Error('Failed to load level manifest');
                }
                const manifest = await response.json()
                let params = new URLSearchParams(document.location.search);
                let offset = params.get("page") ?? 0
                return manifest.articles.sort((a,b)=>b.id - a.id).slice(offset*12, 12)
            } catch (error) {
                return false
            }
        }
    })
</script>
</body>
</html>